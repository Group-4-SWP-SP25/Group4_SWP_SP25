<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0" />
        <title>Dashboard</title>
        <link
            rel="stylesheet"
            href="./style.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous" />
    </head>

    <body>
        <!-- Header -->
        <header>
            <div class="page-frame"></div>
        </header>
        <!-- End header -->

        <!-- Content -->
        <div class="content">
            <div class="path">
                <a
                    href="../DashBoard/dashboard.html"
                    style="text-decoration: none; color: white">
                    Home
                </a>
                /
                <a
                    href="./ServiceManager.html  "
                    class="currentpath">
                    Service Management
                </a>
            </div>

            <div class="services-table">
                <div class="table-header">
                    <h1>Service Management</h1>
                    <div class="buttons">
                        <button class="btn-add">+ Add Service</button>
                    </div>
                </div>

                <div class="search">
                    <input
                        class="search-input"
                        type="text"
                        placeholder="Search..." />
                </div>
                <div class="search-filter">
                    <label>
                        <input
                            type="checkbox"
                            data-column="ServiceTypeID" />
                        Type ID
                    </label>
                    <label>
                        <input
                            type="checkbox"
                            data-column="PartID" />
                        Part ID
                    </label>
                    <label>
                        <input
                            type="checkbox"
                            data-column="ServiceName" />
                        Service Name
                    </label>
                    <label>
                        <input
                            type="checkbox"
                            data-column="ServiceDescription" />
                        Description
                    </label>
                    <label>
                        <input
                            type="checkbox"
                            data-column="ServicePrice" />
                        Price
                    </label>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th style="width: 4%">
                            Type ID
                            <button
                                class="sort"
                                data-column="TypeID">
                                ⇅
                            </button>
                        </th>
                        <th style="width: 4%">
                            Part ID
                            <button
                                class="sort"
                                data-column="PartID">
                                ⇅
                            </button>
                        </th>
                        <th style="width: 10%">
                            Service Name
                            <button
                                class="sort"
                                data-column="ServiceName">
                                ⇅
                            </button>
                        </th>
                        <th style="width: 18%">
                            Description
                            <button
                                class="sort"
                                data-column="Description">
                                ⇅
                            </button>
                        </th>
                        <th style="width: 6%">
                            Price
                            <button
                                class="sort"
                                data-column="Price">
                                ⇅
                            </button>
                        </th>
                        <th style="width: 10%">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- <tr>
                        <td style="width: 4%">test</td>
                        <td style="width: 4%">test</td>
                        <td style="width: 10%">test</td>
                        <td style="width: 18%">test</td>
                        <td style="width: 6%">test</td>
                        <td
                            style="width: 10%"
                            class="buttons">
                            <button
                                class="btn-delete"
                                onclick="showPopup(this);"
                                data-serviceid="0">
                                Delete
                            </button>
                            <button class="btn-update">Update</button>
                        </td>
                    </tr> -->
                    <!-- Content from js query -->
                </tbody>
            </table>
        </div>
        <!-- End content -->

        <!-- Popup delete -->
        <!-- <div class="hidden delete-service">
            <p class="display-6 container">Are you sure to delete this order?</p>
            <div class="btn-submit">
                <button class="btn btn-yes">Yes</button>
                <button class="btn btn-cancel">Cancel</button>
            </div>
        </div>
        <div class="hidden overlay"></div> -->

        <div class="popup hidden">
            <h2>Confirm delete?</h2>
            <div class="buttons">
                <button
                    class="btn-yes"
                    onclick="confirmedPopup();">
                    Accept
                </button>
                <button
                    class="btn-no"
                    onclick="hidePopup();">
                    Cancel
                </button>
            </div>
        </div>
        <div class="overlay hidden"></div>
        <!-- End popup delete -->

        <!-- Scripts -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
            integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
        <script src="script.js"></script>
        <script>
            fetch('../page_frame/page_frame.html')
                .then((response) => response.text())
                .then((data) => {
                    document.querySelector('.page-frame').innerHTML = data;
                    const css = document.createElement('link');
                    css.rel = 'stylesheet';
                    css.href = '../page_frame/style.css';
                    document.head.appendChild(css);

                    // current page indicator
                    const currentPageFile = window.location.pathname.split('/').pop();
                    document
                        .querySelector('.page-frame')
                        .querySelectorAll('.option')
                        .forEach((option) => {
                            const anchorHref = option.getAttribute('href');
                            if (anchorHref.includes(currentPageFile)) {
                                option.style.backgroundColor = '#33334d';
                            }
                        });
                });
        </script>
        <!-- End scripts -->
    </body>
</html>
